## Getting set up

The multiquark analysis software is divided up into two parts. One is a private 
repo hosted on GitLab, which requires CERN credentials to access,
and can be found [here](https://gitlab.cern.ch/slavoie/MyAnalysis). The second
part is hosted on my public GitHub account and can be found
[here](https://github.com/simlav000/Multiquark).

## GitLab Repo
This repo is my project which uses the AnalysisBase 25.2.2 release build 
provided by ATLAS software. 

# lxplus
It is intended to be ran on `lxplus`, a linux server hosted by cern
which can be connected to by issuing the command `ssh [username]@lxplus.cern.ch`,
which requires a cern account.


To get it up and running, it is recommended to simply clone the repo in your personal 
`eos` space which can be found at `/eos/user/[first letter of username]/[username]`.
This is likely not your `$HOME` (`~`), but I would recommend making this 
place your home as the eos space not only has much more disk space available 
for data output, but can also be accessed from the web via [cernbox](https://cernbox.cern.ch/).

# Cloning the repo
Then, simply go to the [gitlab page](https://gitlab.cern.ch/slavoie/MyAnalysis),
look for the blue "Code" button, and copy the "Clone with SSH" link and issue 
the command `git clone [link]`.

This project follows the [atlassoftwaredocs project structure](https://atlassoftwaredocs.web.cern.ch/analysis-software/AnalysisSWTutorial/).
There are lots of resources which can be found by following the ATLAS Software Documentation,
and it is possible that following this tutorial will become mandatory as the practices and 
software releases are constantly changing. These instructions work as of August 20th 2024.
Sorry if things are outdated by the time you read this. It's not my fault.

# Project Architecture
Now that you have cloned the `MyAnalysis` directory, let's talk a bit about what is inside, in order of importance.
    - *CMakeLists.txt*: This file is a configuration file for the CMake program, which is used for 
                        building and compiling our project. 
    - *MultiQuark*: This directory contains all the C++ headers for the project. 
    - *Root*: Not to be confused with the ROOT program, this is just the actual C++ source files.
    - *share*: This directory holds python scripts - called "steering macros" - which take care of configuring and 
               executing the analysis script. There are two main versions of the steering macro. The first is 
               `ATestRun_eljob.py` which is the file you execute to run on local data. The file contains a line 
               designating a file path containing data to run on. It iterates over all files in the specified 
               directory to pass as input to the job. The second file, `ATestSubmit_eljob.py`, is used to run 
               the job on the GRID. Running on the GRID unlocks vast computing resources and allows access to 
               all ATLAS datasets, which is particularly useful for running on datasets too large to download.
    - *data*: This directory contains a `config.yaml` file used to configure CP (Combined Performance) algorithms. 
              This was meant to be used to configure the GoodRunsList algorithm, but I never had the time to make 
              it work, unfortunately. 
    - *python*: This is where python scripts used to schedule predefined algorithms to execute should go. I also 
                never made any use of this.
    - *src*: This is where Athena sources and private header files go. Given this is not an Athena algorithm, 
             there is nothing interesting going on here either.

# Building the project.
As of now, all you have are the source files. In order to execute the program we must first 
build the project. It is recommended you navigate to the `MyAnalysis` directory, and execute the following commands:
    - `mkdir source && mv * source/`: This will tell you that you can't move source into itself. That's ok.\
       the important bit is that you've moved all the contents of `MyAnalysis` to the `source` directory.
    - `mkdir build`: This will create a directory which will hold all the makefiles generated by the CMake program 
                     which manages the building and compiling for us.
